<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="description" content="reed leoneil">
  <meta name="keywords" content="reed leoneil">
  <meta name="author" content="reed leoneil">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reedleoneil</title>
  <link rel="icon" type="image/png" href="https://reedleoneil.github.io/IMG_0020.PNG">
  <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

  <!-- CSS only -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

  <!-- JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/ClientJS/0.1.11/client.min.js" integrity="sha512-MwKUpp841sot4mmGDfVcpJxb4vcaYHnpyn17CTHT3RUm585khw5gnRM6xwDm15aJ3sfpf6d4P8FLLfQKAo3mfA==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.2.1/mqtt.min.js" integrity="sha512-PJuO9WRsxt+nSwGhKVDEVSUWqshxdqQIqf5MMRl8XIWWnuIZXcxF0MhWDs9dWutfY5Jpk1sExqVk71PhVkHOXA==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sparklines/2.1.2/jquery.sparkline.min.js" integrity="sha512-3PRVLmoBYuBDbCEojg5qdmd9UhkPiyoczSFYjnLhFb2KAFsWWEMlAPt0olX1Nv7zGhDfhGEVkXsu51a55nlYmw==" crossorigin="anonymous"></script>

  <style>
  body {
    font-family: monospace;
    width: 100%;
    padding-left: 15px;
    padding-right: 15px;
    background-image: linear-gradient(to right, #000000, #000000, #000000);
    -webkit-text-stroke: 0.1px #C0C0C0;
    color: #C0C0C0;
    text-shadow: -0.01px -0.01px 0 #696969, 0.01px -0.01px 0 #696969, -0.01px 0.01px 0 #696969, 0.01px 0.01px 0 #696969, -0.01px -0.01px 3px #696969, 0.01px -0.01px 3px #696969, -0.01px 0.01px 3px #696969, 0.01px 0.01px 3px #696969;
  }

  a:link, a:active, a:visited {
    -webkit-text-stroke: 0.1px #960000;
    color: #ff6969;
    text-shadow: -0.03px -0.03px 0 #960000, 0.03px -0.03px 0 #960000, -0.03px 0.03px 0 #960000, 0.03px 0.03px 0 #960000, -0.03px -0.03px 3px #960000, 0.03px -0.03px 3px #960000, -0.03px 0.03px 3px #960000, 0.03px 0.03px 3px #960000;
    text-decoration: none;
  }

  a:hover {
    color: #ff0000;
    text-decoration: none;
  }

  .social-media-link:link, .social-media-link:active, .social-media-link:visited {
    -webkit-text-stroke: 0.1px #C0C0C0;
    color: #C0C0C0;
    text-shadow: -0.01px -0.01px 0 #696969, 0.01px -0.01px 0 #696969, -0.01px 0.01px 0 #696969, 0.01px 0.01px 0 #696969, -0.01px -0.01px 3px #696969, 0.01px -0.01px 3px #696969, -0.01px 0.01px 3px #696969, 0.01px 0.01px 3px #696969;
  }

  .social-media-link:hover {
    color: #FFFFFF;
    text-decoration: none;
  }

  .re-border {
    box-shadow: -1px -1px 0 #696969,
    1px -1px 0 #696969,
    -1px 1px 0 #696969,
    1px 1px 0 #696969,
    -1px -1px 3px #696969,
    1px -1px 3px #696969,
    -1px 1px 3px #696969,
    1px 1px 3px #696969;

    padding: 5px 5px;
  }

  #profiler-image {
    width: 30%;
    float: left;
  }

  #profiler-info {
    width: 70%;
    float: left;
    padding-left: 5px;
  }

  button {
    color: white;
    background-color: Transparent;
    background-repeat:no-repeat;
    border: 2px solid #4CAF50;
  }

  select {
    color: white;
    background-color: Transparent;
    background-repeat:no-repeat;
    border: 2px solid #4CAF50;
  }

  .note {
    font-size: xx-small;
    text-align: right;
  }

  #logs, #logs:focus,
  #chat-box, #chat-box:focus,
  #chat-message {
    width: 100%;
    background-color: #000000;
    border: none;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    -webkit-text-stroke: 0.1px #C0C0C0;
    color: #C0C0C0;
    text-shadow: -0.01px -0.01px 0 #696969, 0.01px -0.01px 0 #696969, -0.01px 0.01px 0 #696969, 0.01px 0.01px 0 #696969, -0.01px -0.01px 3px #696969, 0.01px -0.01px 3px #696969, -0.01px 0.01px 3px #696969, 0.01px 0.01px 3px #696969;
  }

  #logs::-webkit-scrollbar {
    background-color: #000000;
  }
  #logs::-webkit-scrollbar-button {
    background-color: #000000;
  }
  #logs::-webkit-scrollbar-track {
    background-color: #000000;
  }
  #logs::-webkit-scrollbar-track-piece {
    background-color: #000000;
  }
  #logs::-webkit-scrollbar-thumb {
    background-color: #000000;
  }
  #logs::-webkit-scrollbar-corner {
    background-color: #000000;
  }
  #logs::-webkit-resizer { }

  #processes-table,
  #hackers-table {
    width: 100%;
    white-space: nowrap;
  }

  td, th {
    padding-right: 10px;
  }

  tr th:last-child,
  tr td:last-child {

  }

  .online {
    color: #00ff00;
    font-weight: 900;
  }

  .offline {
    color: #ff0000;
    font-weight: 900;
  }
  </style>
</head>
<body>
  <div class="row">
    <div class="col-sm px-2 mt-2">
      <div class="re-border">
        <div id="left-panel">
          <div>
            <div>
              <a data-toggle="collapse"  href="#profiler-collapse">Profiler</a>
            </div>
            <div id="profiler-collapse" class="collapse show">
              <div>
                <div class="clearfix">
                  <div id="profiler-image"><img src="IMG_0020.PNG" alt="pon.jpg" style="width: 100%;"></div>
                  <div id="profiler-info">
                    <div>Name: Reed Leoneil Pascual</div>
                    <div>Nickname: Pon</div>
                    <div>Age: 26</div>
                    <div>Occupation: Software Engineer</div>
                    <div>Status: <span id="status"></span></div>
                  </div>
                </div>
                <div>Rarely uses social media accounts because he doesn't want his online activities to be tracked.</div>
                <div><a class="social-media-link" href="https://fb.com/reedleoneil" target="_blank"><i class="fab fa-facebook"></i> fb.com/reedleoneil</a></div>
                <div><a class="social-media-link" href="https://www.instagram.com/reedleoneil" target="_blank"><i class="fab fa-instagram"></i> instagram.com/reedleoneil</a></div>
                <div><a class="social-media-link" href="https://twitter.com/reedleoneil" target="_blank"><i class="fab fa-twitter"></i> twitter.com/reedleoneil</a></div>
                <div><a class="social-media-link" href="https://github.com/reedleoneil" target="_blank"><i class="fab fa-github"></i> github.com/reedleoneil</a></div>
              </div>
            </div>
          </div>
          <div>
            <div>
              <a data-toggle="collapse" href="#system-info-collapse">System Info</a>
            </div>
            <div id="system-info-collapse" class="collapse">
              <div>
                <div>IP Address: <span id="sys-info-ip"></span></div>
                <div>Operating System: <span id="sys-info-os"></span></div>
                <div>CPU: <span id="sys-info-cpu"></span> (<span id="sys-info-cpu-usage"></span>%) <span id="sys-info-cpu-sparkline"></span></div>
                <div>Memory: <span id="sys-info-mem-usage"></span> / <span id="sys-info-mem-capacity"></span> (<span id="sys-info-mem-percentage"></span>%) <span id="sys-info-memory-sparkline"></span></div>
                <div>Disk: <span id="sys-info-disk-free"></span> / <span id="sys-info-disk-total"></span> (<span id="sys-info-disk-percentage"></span>%)</span> <span id="sys-info-disk-sparkline"></span></div>
                <div>Network: ▲ <span id="sys-info-net-up"></span> ▼ <span id="sys-info-net-down"></span></div>
                <table id="processes-table">
                  <tr>
                    <th>Name</th>
                    <th>PID</th>
                    <!-- <th>User</th> -->
                    <!-- <th>CPU</th> -->
                    <th>MEM</th>
                  </tr>
                </table>
                <div class="note">Note: These are realtime data from my machine not yours.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 px-1 mt-2">
      <div>
        <div class="re-border" style="overflow-x:auto;">
          <table id="hackers-table">
            <tr>
              <th>Fingerprint</th>
              <th>IP Address</th>
              <th>Location</th>
              <th>ISP</th>
              <th>Browser</th>
              <th>Operating System</th>
              <th>Status</th>
            </tr>
          </table>
          <div class="note">Note: These are list of unique users that accessed this site including you.</div>
        </div>
        <div class="re-border mt-2">
          logs <span>/////</span>
          <textarea id="logs" name="logs" rows="10" readonly></textarea>
        </div>
      </div>
    </div>
    <div class="col-sm px-2 my-2">
      <div class="re-border">
        <div id="left-panel">
          <div>
            <div>
              <a data-toggle="collapse"  href="#webcam-caputure-collapse">Webcam Capture</a>
            </div>
            <div id="webcam-caputure-collapse" class="collapse">
              <div>
                <div><img id="webcam-capture" alt="webcam.png" style="width: 100%;"></div>
                <div class="note mt-1">Note: Image was captured from my webcam.</div>
              </div>
            </div>
          </div>
          <div>
            <div>
              <a data-toggle="collapse" href="#desktop-capture-collapse">Desktop Capture</a>
            </div>
            <div id="desktop-capture-collapse" class="collapse">
              <div>
                <div><img id="desktop-capture" alt="desktop.png" style="width: 100%;"></div>
                <div class="note mt-1">Note: Screenshot was captured from my desktop.</div>
              </div>
            </div>
          </div>
          <div>
            <div>
              <a data-toggle="collapse" href="#chat-collapse">Chat</a>
            </div>
            <div id="chat-collapse" class="collapse">
              <div>
                <div class="re-border mb-2"><textarea id="chat-box" name="chat-box" rows="10" readonly></textarea></div>
                <div class="re-border mb-2"><input type="text" id="chat-message"></div>
              </div>
              <div class="note">Note: I rarely do social media stuff, so ping me here.</div>
            </div>
          </div>
          <div>
            <div>
              <a data-toggle="collapse"  href="#about-collapse">About</a>
            </div>
            <div id="about-collapse" class="collapse show">
              <div>
                <div>reedleoneil.github.com</div>
                <div>Version 6.0</div>

                © 2020 reedleoneil レード・レオニール
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
  function formatBytes(a,b=2){if(0===a)return"0 Bytes";const c=0>b?0:b,d=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,d)).toFixed(c))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][d]}

  var clientjs = new ClientJS();
  var hackerFingerprint = {
    fingerprint: clientjs.getFingerprint(),
    browserData: clientjs.getBrowserData(),
    ipData: null,
    status: 'Offline',
    timestamp: new Date()
  };

  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var response = JSON.parse(this.responseText);
      hackerFingerprint.ipData = response;
      connect();
    }
  };
  xhttp.open("GET", "https://ipapi.co/json/", true);
  xhttp.send();

  // var endpoint = 'https://ipapi.co/json/';
  // var xhr = new XMLHttpRequest();
  // xhr.onreadystatechange = function() {
  //   if (this.readyState == 4 && this.status == 200) {
  //     var response = JSON.parse(this.responseText);
  //     if(response.status !== 'success') {
  //       return
  //     } else {
  //       hackerFingerprint.ipData = response;
  //       connect();
  //     }
  //   }
  // };
  // xhr.open('GET', endpoint, true);
  // xhr.send();

  var sparkline_cpu = [0, 0, 0, 0, 0, 0];
  var sparkline_memory = [0, 0, 0, 0, 0, 0];

  var client;

  function connect() {
    var mqttOptions = {
      will: {
        topic: "reedleoneil/hackers/" + hackerFingerprint.fingerprint,
        payload: JSON.stringify(hackerFingerprint),
        retain: true
      }
    }
    client = mqtt.connect("wss://test.mosquitto.org:8081", mqttOptions);
    client.subscribe("reedleoneil/status");
    client.subscribe("reedleoneil/system_info/#");
    client.subscribe("reedleoneil/hackers/#");
    client.subscribe("reedleoneil/webcam");
    client.subscribe("reedleoneil/desktop");
    client.subscribe("reedleoneil/chat");

    client.on("connect", function () {
      hackerFingerprint.status = 'Online';
      var publishOptions = {
        retain: true
      }
      client.publish("reedleoneil/hackers/" + hackerFingerprint.fingerprint, JSON.stringify(hackerFingerprint), publishOptions);
    });

    client.on("message", function (topic, payload) {
      //console.log([topic, payload].join(": "));
      log([topic, payload].join(": "));

      if (topic == "reedleoneil/desktop") {
        //console.log(payload);
        updateDesktopCapture(payload);
        return;
      } else if (topic == "reedleoneil/webcam") {
        //console.log(payload);
        updateWebcamCapture(payload);
        return;
      }

      try {
        message = JSON.parse(payload);
        switch(topic) {
          case "reedleoneil/status":
          setStatus(message.status);
          break;
          case "reedleoneil/system_info/ip":
          setSysInfoIP(message.ip);
          break;
          case "reedleoneil/system_info/os":
          setSysInfoOS(message.os);
          break;
          case "reedleoneil/system_info/cpu":
          setSysInfoCpu(message.cpu, message.cpu_usage);
          updateCpuSparkline(message.cpu_usage);
          break;
          case "reedleoneil/system_info/memory":
          setSysInfoMem(message.memory_usage, message.total_capacity);
          updateMemSparkline(message.memory_usage);
          break;
          case "reedleoneil/system_info/disk":
          var free = 0;
          message.forEach(function myFunction(item, index) {
            if (item.free_space !== null)
            free += parseInt(item.free_space);
          });

          var total = 0;
          message.forEach(function myFunction(item, index) {
            if (item.size !== null)
            total += parseInt(item.size);
          });

          setSysInfoDisk(free, total);
          updateDiskSparkline(free, total);
          break;
          case "reedleoneil/system_info/network":
          var up = 0;
          message.forEach(function myFunction(item, index) {
            if (item.bytes_sent_persec !== null)
            up += parseInt(item.bytes_sent_persec);
          });

          var down = 0;
          message.forEach(function myFunction(item, index) {
            if (item.bytes_rec_persec !== null)
            down += parseInt(item.bytes_rec_persec);
          });

          setSysInfoNetwork(up, down);
          break;
          case "reedleoneil/system_info/processes":
          clearProcessesTable();
          message.forEach(function myFunction(item, index) {
            insertProcessTable(item.name, item.pid, item.user, item.cpu, item.mem);
          });
          break;
          case "reedleoneil/chat":
          updateChat(message);
          break;
          default:
          if (topic.startsWith("reedleoneil/hackers/")) {
            if (!updateHackersTable(message)) {
              insertHackersTable(message);
            }
          }
          break;
        }
      }
      catch(err) {
        log(err.message);
      }

    });
  }

  function log(data) {
    var log = document.getElementById("logs");
    log.value += data;
    log.scrollTop = log.scrollHeight;
    if (log.value.length > 12288) {
      log.value = log.value.substr(2048);
    }
  }

  function setStatus(status) {
    document.getElementById("status").innerHTML = "<span class='" + status.toLowerCase() + "'>・</span>" + status;
  }

  function setSysInfoIP(ip) {
    document.getElementById("sys-info-ip").textContent = ip;
  }

  function setSysInfoOS(os) {
    document.getElementById("sys-info-os").textContent = os;
  }

  function setSysInfoCpu(cpu, cpu_usage) {
    document.getElementById("sys-info-cpu").textContent = cpu;
    document.getElementById("sys-info-cpu-usage").textContent = cpu_usage;
  }

  function setSysInfoMem(mem_usage, total_capacity) {
    document.getElementById("sys-info-mem-usage").textContent = formatBytes(mem_usage);
    document.getElementById("sys-info-mem-capacity").textContent = formatBytes(total_capacity);
    document.getElementById("sys-info-mem-percentage").textContent = ((mem_usage * 100) / total_capacity) | 0;
  }

  function setSysInfoDisk(free, total) {
    document.getElementById("sys-info-disk-free").textContent = formatBytes(free);
    document.getElementById("sys-info-disk-total").textContent = formatBytes(total);
    document.getElementById("sys-info-disk-percentage").textContent = (((total - free) * 100) / total) | 0;
  }

  function setSysInfoNetwork(up, down) {
    document.getElementById("sys-info-net-up").textContent = formatBytes(up);
    document.getElementById("sys-info-net-down").textContent = formatBytes(down);
  }

  function updateCpuSparkline(cpu_usage) {
    sparkline_cpu.shift();
    sparkline_cpu.push(cpu_usage);
    $('#sys-info-cpu-sparkline').sparkline(sparkline_cpu, { type: 'bar' });
  }

  function updateMemSparkline(mem_usage) {
    sparkline_memory.shift();
    sparkline_memory.push(mem_usage);
    $('#sys-info-memory-sparkline').sparkline(sparkline_memory, { type: 'bar' });
  }

  function updateDiskSparkline(free, total) {
    var sparkline_disk = [free, total];
    $('#sys-info-disk-sparkline').sparkline(sparkline_disk, { type: 'pie', sliceColors: ['#033dfc', '#03befc'] });
  }

  function clearProcessesTable() {
    var table = document.getElementById("processes-table");
    while(table.rows.length != 1)
    {
       table.deleteRow(table.rows.length - 1);
    }
  }

  function insertProcessTable(name, pid, user, cpu, mem) {
    var table = document.getElementById("processes-table");
    var row = table.insertRow(-1);
    var cellName = row.insertCell(0);
    var cellPid = row.insertCell(1);
    // var cellUser = row.insertCell(2);
    //var cellCpu = row.insertCell(3);
    var cellMem = row.insertCell(2);
    cellName.innerHTML = name;
    cellPid.innerHTML = pid;
    // cellUser.innerHTML = user;
    //cellCpu.innerHTML = cpu;
    cellMem.innerHTML = formatBytes(mem);
  }

  function insertHackersTable(hacker) {
    var table = document.getElementById("hackers-table");
    var row = table.insertRow(-1);
    var fingerprintCell = row.insertCell(0);
    var ipCell = row.insertCell(1);
    var locationCell = row.insertCell(2);
    var ispCell = row.insertCell(3);
    var browserCell = row.insertCell(4);
    var osCell = row.insertCell(5);
    var statusCell = row.insertCell(6);
    fingerprintCell.innerHTML = hacker.fingerprint;
    ipCell.innerHTML = hacker.ipData.ip;
    locationCell.innerHTML = hacker.ipData.city + ' ' + hacker.ipData.country;
    ispCell.innerHTML = hacker.ipData.org;
    browserCell.innerHTML = hacker.browserData.browser.name + ' ' + hacker.browserData.browser.major;
    osCell.innerHTML = hacker.browserData.os.name + ' ' + hacker.browserData.os.version;
    statusCell.innerHTML = "<span class='" + hacker.status.toLowerCase() + "'>・</span>" + hacker.status;
  }

  function updateHackersTable(hacker) {
    var table = document.getElementById("hackers-table");
    for (var r = 1; r < table.rows.length; r++) {
      if (table.rows[r].cells[0].innerText == hacker.fingerprint) {
          table.rows[r].cells[6].innerHTML = "<span class='" + hacker.status.toLowerCase() + "'>・</span>" + hacker.status;
          return 1;
      }
    }
    return 0;
  }

  function updateChat(message) {
    var chatBox = document.getElementById("chat-box");
    if (chatBox.value)
      chatBox.value += "\n";
    chatBox.value += message.from + ": " + message.message;
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  function sendMessage(message) {
    messagePayload = {
      from: hackerFingerprint.fingerprint,
      message: message
    }
    client.publish("reedleoneil/chat", JSON.stringify(messagePayload));
  }

  function updateWebcamCapture(base64Data) {
    var img = document.getElementById("webcam-capture");
    img.src = "data:image/png;base64, " + base64Data;
  }

  function updateDesktopCapture(base64Data) {
    var img = document.getElementById("desktop-capture");
    img.src = "data:image/png;base64, " + base64Data;
  }

  var chatMessage = document.getElementById("chat-message");
  chatMessage.addEventListener("keyup", function(event) {
    if (event.keyCode === 13) {
     event.preventDefault();
     sendMessage(chatMessage.value);
     chatMessage.value = "";
    }
  });
  </script>
</body>
</html>
